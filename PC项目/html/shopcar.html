<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>购物袋</title>
		<link rel="stylesheet" type="text/css" href="../css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="../css/shopcar.css"/>
	</head>
	<body>
		<div class="header1">
			<header class="header">
				<a href="javascript:void(0)"></a>
				<span></span>
			</header>
		</div>
		<div class="main0">
			<h4>为你推荐</h4>
			<ul class="wu">
				<li><img src="../img/wufeng/w1.jpg"/></li>
				<li><img src="../img/wufeng/w2.jpg"/></li>
				<li><img src="../img/wufeng/w3.jpg"/></li>
				<li><img src="../img/wufeng/w4.jpg"/></li>
				<li><img src="../img/wufeng/w5.jpg"/></li>
				<li><img src="../img/wufeng/w6.jpg"/></li>
				<li><img src="../img/wufeng/w7.jpg"/></li>
				<li><img src="../img/wufeng/w8.jpg"/></li>
				<li><img src="../img/wufeng/w9.jpg"/></li>
				<li><img src="../img/wufeng/w10.jpg"/></li>
			</ul>
		</div>
		<main class="main">
			<h2>购物袋</h2>
			<table>
				<thead>
					<tr>
						<th></th>
						<th>唯品自营</th>
						<th>单价</th>
						<th>数量</th>
						<th>小计</th>
						<th>操作</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><input type="checkbox" class="checkbox"/></td>
						<td>
							<dl>
								<dt><img src="../img/shopcar/sh1.jpg"/></dt>
								<dd>
									<p>索菲丝尔裤专场-纯色百搭牛仔裤</p>
									<p>尺码：XXL</p>
								</dd>
							</dl>
						</td>
						<td>￥<font class="dan">159</font></td>
						<td><span><a href="javascript:void(0)" class="jian">-</a><i>1</i><a href="javascript:void(0)" class="jia">+</a></span></td>
						<td>￥<font class="xiaoji">159</font></td>
						<td><b class="del">删除</b></td> 
					</tr>
					<tr>
						<td><input type="checkbox" class="checkbox"/></td>
						<td>
							<dl>
								<dt><img src="../img/shopcar/sh2.jpg"/></dt>
								<dd>
									<p>索菲丝尔裤专场-纯色百搭牛仔裤</p>
									<p>尺码：XXL</p>
								</dd>
							</dl>
						</td>
						<td>￥<font class="dan">259</font></td>
						<td><span><a href="javascript:void(0)" class="jian">-</a><i>1</i><a href="javascript:void(0)" class="jia">+</a></span></td>
						<td>￥<font class="xiaoji">259</font></td>
						<td><b class="del">删除</b></td> 
					</tr>
					<tr>
						<td><input type="checkbox" class="checkbox"/></td>
						<td>
							<dl>
								<dt><img src="../img/shopcar/sh3.jpg"/></dt>
								<dd>
									<p>索菲丝尔裤专场-纯色百搭牛仔裤</p>
									<p>尺码：XXL</p>
								</dd>
							</dl>
						</td>
						<td>￥<font class="dan">298</font></td>
						<td><span><a href="javascript:void(0)" class="jian">-</a><i>1</i><a href="javascript:void(0)" class="jia">+</a></span></td>
						<td>￥<font class="xiaoji">298</font></td>
						<td><b class="del">删除</b></td> 
					</tr>
					<tr>
						<td><input type="checkbox" class="checkbox"/></td>
						<td>
							<dl>
								<dt><img src="../img/shopcar/sh4.jpg"/></dt>
								<dd>
									<p>索菲丝尔裤专场-纯色百搭牛仔裤</p>
									<p>尺码：XXL</p>
								</dd>
							</dl>
						</td>
						<td>￥<font class="dan">198</font></td>
						<td><span><a href="javascript:void(0)" class="jian">-</a><i>1</i><a href="javascript:void(0)" class="jia">+</a></span></td>
						<td>￥<font class="xiaoji">198</font></td>
						<td><b class="del">删除</b></td> 
					</tr>
				</tbody>        
			</table>
		</main>
		<div class="main_zong">
			<div class="left">
				<span>使用优惠券</span>
				<span>使用优惠券口令</span>
			</div>
			<div class="center">
				<span class="quanxuan">全选</span>
				<span class="fanxuan">反选</span>
			</div>
			<div class="right">
				<p>共<b class="num">4</b>件商品&nbsp;商品金额<span>￥<font class="zongji">914</font></span></p>
				<p>总金额(已免运费)<span>￥<i class="zongji">914</i></span></p>
			</div>
			<h3><a href="javascript:void(0)">立即结算</a></h3>
		</div>
		<footer>
			<div class="footer">
				<div class="footer_one">
					<ul>
						<li class="first">购物指南</li>
						<li>服务商信息</li>
						<li>购物流程</li>
						<li>注册登录</li>
					</ul>
					<ul>
						<li class="first">配送方式</li>
						<li>配送方式</li>
						<li>配送方式信息</li>
						<li>签收原则</li>
						<li>物流查询</li>
					</ul>
					<ul>
						<li class="first">字符方式</li>
						<li>支付方式</li>
						<li>支付问题</li>
						<li>分期支付</li>
					</ul>
					<ul>
						<li class="first">订单信息</li>
						<li>订单信息</li>
						<li>其他频道订单发票</li>
						<li>手机频道订单发票</li>
					</ul>
					<ul>
						<li class="first">售后服务</li>
						<li>售后政策总则</li>
						<li>手机售后政策总则</li>
						<li>24小时在线客服</li>
					</ul>
					<ul>
						<li class="first">其他说明</li>
						<li>服务承诺</li>
						<li>账户安全</li>
						<li>产品安全</li>
					</ul>
				</div>
			</div>
			<div class="foot">
				<div class="foot_one">
					<p>
						<a href="javascript:void(0);">关于联想</a><span>|</span>
						<a href="javascript:void(0);">联系我们</a><span>|</span>
						<a href="javascript:void(0);">工作机会</a><span>|</span>
						<a href="javascript:void(0);">新闻中心</a><span>|</span>
						<a href="javascript:void(0);">聚享汇会员专享</a><span>|</span>
						<a href="javascript:void(0);">联想社区</a><span>|</span>
						<a href="javascript:void(0);">NBD</a><span>|</span>
						<a href="javascript:void(0);">联想超融合</a><span>|</span>
						<a href="javascript:void(0);">联想官网热搜</a><span>|</span>
						<a href="javascript:void(0);">分类大全</a><span>|</span>
						<a href="javascript:void(0);">联想产品大全</a><span>|</span>
						<a href="javascript:void(0);">智慧医疗</a>
					</p>
					<p>
						<a href="javascript:void(0);">版权所有 : 1998-2016 联想集团</a><span>|</span>
						<a href="javascript:void(0);">法律公告</a><span>|</span>
						<a href="javascript:void(0);">隐私保护</a><span>|</span>
						<a href="javascript:void(0);">京ICP备11035381</a><span>|</span>
						<a href="javascript:void(0);">京公网安备110108007970</a><span>|</span>
						<a href="javascript:void(0);">营业执照:110000410127232</a><span>|</span>
						<a href="javascript:void(0);">销售网点</a><span>|</span>
						<a href="javascript:void(0);">服务站点</a>
					</p>
				</div>
			</div>
		</footer>
		<script type="text/javascript" src="../js/jquery-1.7.2.min.js"></script>
		<script type="text/javascript">
			$(function(){
				//跳转
				$(".main_zong h3 a").click(function(){
					location.href="../html/address.html";
				})
				//无缝
				var timer = null;
				timer = setInterval(autoplay,10);
				function autoplay(){
					$(".wu").animate({"left":"-158px"},2000,"linear",function(){
						$(".wu").css("left","0");
						$(".wu li:first").remove().clone(true).appendTo(".wu");
					})
				}
				//隔行变色
				$("tbody tr:even").addClass("odd");
				$("tbody tr:odd").addClass("even");
				//全选反选
				$(".quanxuan").click(function(){
					$(":checkbox").attr("checked",true).parents("tr").addClass("active");
				})
				$(".fanxuan").click(function(){
					$(":checkbox").each(function(){
						if($(this).attr("checked")){
							$(this).attr("checked",false).parents("tr").removeClass("active");
						}else{
							$(this).attr("checked",true).parents("tr").addClass("active");
						}
					})
				})
				//单击
				$(":checkbox").click(function(){
					if($(this).attr("checked")){
						$(this).attr("checked",true).parents("tr").addClass("active");
					}else{
						$(this).attr("checked",false).parents("tr").removeClass("active");
					}
				})
				//删除
				$(".del").click(function(){
					$(this).parents("tr").remove();
					//总数量+总价钱
					$(".jian").each(function(){
						j_num1 = $(this).parents("tbody").find(".jian").next();
						j_price1 = $(this).parents("tbody").find(".xiaoji");
						j_dan = $(this).parents("tbody").find(".dan");
					})
					var j_num = 0;
					for(var i=0; i<j_num1.length; i++){
						j_num += parseInt(j_num1.eq(i).text());
					}
					$(".num").text(j_num);
					var j_price = 0;
					for (var j=0; j<j_price1.length; j++){
						j_price += parseInt(j_price1.eq(j).text());
					}
					$(".zongji").text(j_price);
					var xiaoji = 0;
					xiaoji += j_dan.eq($(this).parents("tr").index()).text()*val;
					$(".xiaoji").eq($(this).parents("tr").index()).text(xiaoji);
				})
				//加减
				$(".jia").click(function(){
					var val = $(this).prev().html();
					val++;
					$(this).prev().html(val);
					//总数量+总价钱+小计
					$(".jia").each(function(){
						j_num1 = $(this).parents("tbody").find(".jian").next();
						j_price1 = $(this).parents("tbody").find(".xiaoji");
						j_dan = $(this).parents("tbody").find(".dan");
					})
					var j_num = 0;
					for(var i=0; i<j_num1.length; i++){
						j_num += parseInt(j_num1.eq(i).text());
					}
					$(".num").text(j_num);
					var j_price = 0;
					for(var j=0; j<j_price1.length; j++){
						j_price += parseInt(j_price1.eq(j).text());
					}
					$(".zongji").text(j_price);
					var xiaoji = 0;
					xiaoji += j_dan.eq($(this).parents("tr").index()).text()*val;
					$(".xiaoji").eq($(this).parents("tr").index()).text(xiaoji);
				})
				
				$(".jian").click(function(){
					var val = $(this).next().html();
					val--;
					if(val<1){
						val = 1;
					}
					$(this).next().html(val);
					//小计
//					var xiaoji = $(".dan").html()*val;
//					$(this).parents("tr").find(".xiaoji").html(xiaoji);
					//总数量+总价钱+小计
					$(".jian").each(function(){
						j_num1 = $(this).parents("tbody").find(".jian").next();
						j_price1 = $(this).parents("tbody").find(".xiaoji");
						j_dan = $(this).parents("tbody").find(".dan");
					})
					var j_num = 0;
					for(var i=0; i<j_num1.length; i++){
						j_num += parseInt(j_num1.eq(i).text());
					}
					$(".num").text(j_num);
					var j_price = 0;
					for (var j=0; j<j_price1.length; j++){
						j_price += parseInt(j_price1.eq(j).text());
					}
					$(".zongji").text(j_price);
					var xiaoji = 0;
					xiaoji += j_dan.eq($(this).parents("tr").index()).text()*val;
					$(".xiaoji").eq($(this).parents("tr").index()).text(xiaoji);
				})
			})
		</script>
	</body>
</html>
